<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<jasperReport name="SRUReport" resourceBundle="book">
  <!-- Declared fields in the report. -->
  <field class="java.lang.Integer" name="group.number"/>
  <field class="java.lang.String" name="group.description"/>
  <field class="java.math.BigDecimal" name="group.sum"/>
  <field class="java.lang.Integer" name="group.one.index"/>
  <field class="java.lang.String" name="group.one.titletext"/>
  <field class="java.lang.Integer" name="group.two.index"/>
  <field class="java.lang.String" name="group.two.titletext"/>
  <field class="java.lang.String" name="group.two.sumtext"/>
  <field class="java.lang.String" name="group.summary.titletext"/>
  <variable calculation="Sum" class="java.math.BigDecimal" name="sum" resetType="Report">
    <expression><![CDATA[$F{group.sum}]]></expression>
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <variable calculation="Sum" class="java.math.BigDecimal" name="group.one.sum" resetGroup="group.one" resetType="Group">
    <expression><![CDATA[$F{group.sum}]]></expression>
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <variable calculation="Sum" class="java.math.BigDecimal" name="group.two.sum" resetGroup="group.two" resetType="Group">
    <expression><![CDATA[$F{group.sum}]]></expression>
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <variable calculation="Sum" class="java.math.BigDecimal" name="group.summary.sum" resetGroup="group.summary" resetType="Group">
    <expression><![CDATA[$F{group.sum}]]></expression>
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <!-- Main group -->
  <group name="group.one">
    <expression><![CDATA[$F{group.one.index}]]></expression>
    <groupHeader>
      <band height="25">
        <element height="16" kind="textField" width="400" x="20" y="4">
          <expression><![CDATA[$F{group.one.titletext}]]></expression>
        </element>
      </band>
    </groupHeader>
  </group>
  <!-- This is for the special summary sections. -->
  <group name="group.summary">
    <!-- the sections are:
         200: Summa tillgangar
         305: Summa eget kapital, avsattningar och skulder
         527: Rorelseresultat fore avskrivningar
         556: Rorelseresultat efter avskrivningar
         569: Resultat efter financiella intakter och kostnader
         598: Redovisat resultat enligt bokforingen
        -->
    <expression><![CDATA[new Integer(
                ($F{group.two.index}.intValue() <= 2 ) ? 1 :
                ($F{group.two.index}.intValue() <= 6 ) ? 2 :
                ($F{group.two.index}.intValue() <= 10) ? 3 :
                ($F{group.two.index}.intValue() <= 11) ? 4 :
                ($F{group.two.index}.intValue() <= 12) ? 5 :
                ($F{group.two.index}.intValue() <= 13) ? 6 : 0
            )]]></expression>
    <groupFooter>
      <band height="25">
        <element backcolor="#000000" height="2" kind="rectangle" width="510" x="20" y="0"/>
        <element height="14" kind="textField" width="250" x="20" y="3">
          <expression><![CDATA[$F{group.summary.titletext}]]></expression>
        </element>
        <element blankWhenNull="false" hTextAlign="Right" height="14" kind="textField" pattern="#,##0.00" width="80" x="450" y="3">
          <expression><![CDATA[$F{group.one.index}.intValue() == 1 ? $V{group.summary.sum} : $V{group.one.sum}]]></expression>
        </element>
      </band>
    </groupFooter>
  </group>
  <!-- Sub group -->
  <group name="group.two">
    <expression><![CDATA[$F{group.two.index}]]></expression>
    <groupHeader>
      <band height="15">
        <element height="14" kind="textField" width="380" x="30" y="0">
          <expression><![CDATA[$F{group.two.titletext}]]></expression>
        </element>
      </band>
    </groupHeader>
    <groupFooter>
      <band height="15">
        <element height="1" kind="line" width="490" x="40" y="0"/>
        <element height="12" kind="textField" pattern="#,##0.00" width="250" x="40" y="0">
          <expression><![CDATA[$F{group.two.sumtext}]]></expression>
        </element>
        <element hTextAlign="Right" height="12" kind="textField" pattern="#,##0.00" width="70" x="460" y="0">
          <expression><![CDATA[$V{group.two.sum}]]></expression>
        </element>
      </band>
    </groupFooter>
  </group>
  <columnHeader height="15">
    <element height="1" kind="line" width="510" x="20" y="12"/>
    <element hTextAlign="Center" height="12" kind="textField" width="70" x="350" y="0">
      <expression><![CDATA[$R{accountdiagramreport.column.2}]]></expression>
    </element>
    <element hTextAlign="Right" height="12" kind="textField" width="70" x="460" y="0">
      <expression><![CDATA[$R{accountdiagramreport.column.3}]]></expression>
    </element>
  </columnHeader>
  <detail>
    <band height="11" splitType="Stretch">
      <!-- Title -->
      <element height="11" kind="textField" width="300" x="40" y="0">
        <expression><![CDATA[$F{group.description}]]></expression>
      </element>
      <element hTextAlign="Center" height="11" kind="textField" width="70" x="350" y="0">
        <expression><![CDATA[$F{group.number}]]></expression>
      </element>
      <element hTextAlign="Right" height="11" kind="textField" pattern="#,##0.00" width="70" x="460" y="0">
        <expression><![CDATA[$F{group.sum}]]></expression>
      </element>
    </band>
  </detail>
</jasperReport>
