<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<jasperReport name="Deliverynote">
  <!--- Declared parameters in the report. -->
  <parameter class="java.lang.String" name="title"/>
  <parameter class="java.awt.Image" name="company.logo"/>
  <parameter class="java.lang.String" name="company.name"/>
  <parameter class="java.lang.String" name="company.address1"/>
  <parameter class="java.lang.String" name="company.address2"/>
  <parameter class="java.lang.String" name="company.zipcode"/>
  <parameter class="java.lang.String" name="company.city"/>
  <parameter class="java.lang.String" name="company.country"/>
  <parameter class="java.lang.String" name="company.phone"/>
  <parameter class="java.lang.String" name="company.telefax"/>
  <parameter class="java.lang.String" name="company.residence"/>
  <parameter class="java.lang.String" name="company.email"/>
  <parameter class="java.lang.String" name="company.homepage"/>
  <parameter class="java.lang.String" name="company.vatnr"/>
  <parameter class="java.lang.String" name="company.plusaccount"/>
  <parameter class="java.lang.String" name="company.bankaccount"/>
  <parameter class="java.lang.String" name="company.bic"/>
  <parameter class="java.lang.String" name="company.iban"/>
  <parameter class="java.lang.String" name="company.bank"/>
  <parameter class="java.lang.String" name="company.weightunit"/>
  <parameter class="java.lang.String" name="company.volumeunit"/>
  <parameter class="java.lang.Integer" name="number"/>
  <parameter class="java.lang.String" name="date"/>
  <parameter class="java.lang.String" name="text"/>
  <parameter class="java.lang.String" name="order.deliveryadress.name"/>
  <parameter class="java.lang.String" name="order.deliveryadress.address1"/>
  <parameter class="java.lang.String" name="order.deliveryadress.address2"/>
  <parameter class="java.lang.String" name="order.deliveryadress.zipcode"/>
  <parameter class="java.lang.String" name="order.deliveryadress.city"/>
  <parameter class="java.lang.String" name="order.deliveryadress.country"/>
  <parameter class="java.lang.String" name="order.invoiceadress.name"/>
  <parameter class="java.lang.String" name="order.invoiceadress.address1"/>
  <parameter class="java.lang.String" name="order.invoiceadress.address2"/>
  <parameter class="java.lang.String" name="order.invoiceadress.zipcode"/>
  <parameter class="java.lang.String" name="order.invoiceadress.city"/>
  <parameter class="java.lang.String" name="order.invoiceadress.country"/>
  <parameter class="java.lang.String" name="order.ourcontact"/>
  <parameter class="java.lang.String" name="order.deliveryterm"/>
  <parameter class="java.lang.String" name="order.deliveryway"/>
  <parameter class="java.lang.String" name="order.delayinterest"/>
  <parameter class="java.lang.String" name="order.customernr"/>
  <parameter class="java.lang.String" name="order.yourcontact"/>
  <parameter class="java.lang.String" name="order.yourordernumber"/>
  <parameter class="java.lang.String" name="order.vatnumber"/>
  <parameter class="java.lang.String" name="order.currency"/>
  <parameter class="java.lang.String" name="order.taxrate1"/>
  <parameter class="java.lang.String" name="order.taxrate2"/>
  <parameter class="java.lang.String" name="order.taxrate3"/>
  <parameter class="java.lang.String" name="order.estimateddelivery"/>
  <parameter class="java.lang.String" name="order.paymentterm"/>
  <parameter class="net.sf.jasperreports.engine.JasperReport" name="subreport.report"/>
  <field class="net.sf.jasperreports.engine.JRDataSource" name="subreport.datasource"/>
  <field class="java.lang.String" name="row.number"/>
  <field class="java.lang.String" name="row.description"/>
  <field class="java.lang.Integer" name="row.count"/>
  <field class="java.lang.String" name="row.unit"/>
  <field class="java.math.BigDecimal" name="row.discount"/>
  <field class="java.math.BigDecimal" name="row.sum"/>
  <variable calculation="System" class="java.math.BigDecimal" name="totalweight" resetType="Report">
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <variable calculation="System" class="java.math.BigDecimal" name="totalvolume" resetType="Report">
    <initialValueExpression><![CDATA[new BigDecimal(0.0)]]></initialValueExpression>
  </variable>
  <columnHeader height="175">
    <!-- Delivery adress frame -->
    <element height="86" kind="frame" width="250" x="40" y="0">
      <box>
        <pen lineColor="#000000" lineWidth="0.5"/>
      </box>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="240" x="5" y="2">
        <expression><![CDATA[$R{deliverynotereport.deliveryadress}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="14">
        <expression><![CDATA[$P{order.deliveryadress.name}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="28">
        <expression><![CDATA[$P{order.deliveryadress.address1}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="42">
        <expression><![CDATA[$P{order.deliveryadress.address2}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="56">
        <expression><![CDATA[$P{order.deliveryadress.zipcode} + " " + $P{order.deliveryadress.city}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="70">
        <expression><![CDATA[$P{order.deliveryadress.country}]]></expression>
      </element>
    </element>
    <!-- Invoice adress frame -->
    <element height="86" kind="frame" width="250" x="300" y="0">
      <box>
        <pen lineColor="#000000" lineWidth="0.5"/>
      </box>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="5" y="2">
        <expression><![CDATA[$R{deliverynotereport.invoiceadress}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="14">
        <expression><![CDATA[$P{order.invoiceadress.name}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="28">
        <expression><![CDATA[$P{order.invoiceadress.address1}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="42">
        <expression><![CDATA[$P{order.invoiceadress.address2}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="56">
        <expression><![CDATA[$P{order.invoiceadress.zipcode} + " " + $P{order.invoiceadress.city}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="14" kind="textField" width="240" x="10" y="70">
        <expression><![CDATA[$P{order.invoiceadress.country}]]></expression>
      </element>
    </element>
    <!-- Order details, Column 1 -->
    <element height="76" kind="frame" width="250" x="45" y="90">
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="0">
        <expression><![CDATA[$R{deliverynotereport.ourcontact}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="0">
        <expression><![CDATA[$P{order.ourcontact}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="15">
        <expression><![CDATA[$R{deliverynotereport.deliveryterm}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="15">
        <expression><![CDATA[$P{order.deliveryterm}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="30">
        <expression><![CDATA[$R{deliverynotereport.deliveryway}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="30">
        <expression><![CDATA[$P{order.deliveryway}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="45">
        <expression><![CDATA[$R{deliverynotereport.paymentterm}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="45">
        <expression><![CDATA[$P{order.paymentterm}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="60">
        <expression><![CDATA[$R{deliverynotereport.delayinterest}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="60">
        <expression><![CDATA[$P{order.delayinterest} != null ? $P{order.delayinterest} + "%" : null]]></expression>
      </element>
    </element>
    <!-- Order details, Column 2 -->
    <element height="76" kind="frame" width="250" x="305" y="90">
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="0">
        <expression><![CDATA[$R{deliverynotereport.customernr}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="0">
        <expression><![CDATA[$P{order.customernr}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="15">
        <expression><![CDATA[$R{deliverynotereport.yourcontact}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="15">
        <expression><![CDATA[$P{order.yourcontact}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="30">
        <expression><![CDATA[$R{deliverynotereport.yourordernumber}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="30">
        <expression><![CDATA[$P{order.yourordernumber}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="45">
        <expression><![CDATA[$R{deliverynotereport.estimateddelivery}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="45">
        <expression><![CDATA[$P{order.estimateddelivery}]]></expression>
      </element>
      <element blankWhenNull="false" hTextAlign="Left" height="12" kind="textField" width="100" x="0" y="60">
        <expression><![CDATA[$R{deliverynotereport.vatnumber}]]></expression>
      </element>
      <element blankWhenNull="true" hTextAlign="Left" height="12" kind="textField" width="150" x="100" y="60">
        <expression><![CDATA[$P{order.vatnumber}]]></expression>
      </element>
    </element>
  </columnHeader>
  <detail>
    <band height="437" splitType="Stretch">
      <!-- Subreport for the rows 385-->
      <element height="412" kind="frame" width="510" x="40" y="0">
        <box>
          <pen lineColor="#000000" lineWidth="0.5"/>
        </box>
        <element height="412" kind="subreport" usingCache="false" width="510" x="0" y="0">
          <parametersMapExpression><![CDATA[new java.util.HashMap(($P{REPORT_PARAMETERS_MAP}) == null ? java.util.Collections.emptyMap() : ($P{REPORT_PARAMETERS_MAP})) {{ put("REPORT_RESOURCE_BUNDLE", $P{REPORT_RESOURCE_BUNDLE}); }}]]></parametersMapExpression>
          <dataSourceExpression><![CDATA[$F{subreport.datasource}]]></dataSourceExpression>
          <expression><![CDATA[$P{subreport.report}]]></expression>
          <returnValue subreportVariable="totalweight" toVariable="totalweight"/>
          <returnValue subreportVariable="totalvolume" toVariable="totalvolume"/>
        </element>
      </element>
      <!-- Summary fields -->
      <element height="25" kind="frame" width="510" x="40" y="412">
        <box>
          <pen lineColor="#000000" lineWidth="0.5"/>
        </box>
        <element height="25" kind="line" width="1" x="290" y="0"/>
        <element hTextAlign="Left" height="12" kind="textField" width="77" x="293" y="1">
          <expression><![CDATA[$R{deliverynotereport.totalweight}]]></expression>
        </element>
        <element blankWhenNull="true" evaluationTime="Report" hTextAlign="Right" height="14" kind="textField" pattern="#,##0.000" width="77" x="290" y="10">
          <expression><![CDATA[$V{totalweight}]]></expression>
        </element>
        <element hTextAlign="Left" height="14" kind="textField" width="29" x="370" y="10">
          <expression><![CDATA[$P{company.weightunit}]]></expression>
        </element>
        <element height="25" kind="line" width="1" x="400" y="0"/>
        <element hTextAlign="Left" height="12" kind="textField" width="77" x="403" y="1">
          <expression><![CDATA[$R{deliverynotereport.totalvolume}]]></expression>
        </element>
        <element blankWhenNull="true" evaluationTime="Report" hTextAlign="Right" height="14" kind="textField" pattern="#,##0.000" width="77" x="400" y="10">
          <expression><![CDATA[$V{totalvolume}]]></expression>
        </element>
        <element hTextAlign="Left" height="14" kind="textField" width="30" x="480" y="10">
          <expression><![CDATA[$P{company.volumeunit}]]></expression>
        </element>
      </element>
    </band>
  </detail>
</jasperReport>
